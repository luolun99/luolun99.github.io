<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Home</title>
</head>

<body>
    <!-----------------------------------------Nav Bar Start--------------------------------->
    <nav>
        <div>
            <!--Nav Bar-->
            <ul class="nav navbar-nav">
                <li><a href="/">Home</a></li>
                <li><a href="/about">About</a></li>
                <li><a href="/add_device">Add Device</a></li>
                <li><a href="/list_device">Manage Device</a></li>
                <li><a href="/search_device">Search Device</a></li>
            </ul>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>
    <!------------------------------------------Nav Bar ends-------------------------------->


    <!------------------------------------------Content starts-------------------------------->
    <h1>This is a add device page for Smart Home Web App</h1>

    <!-- Differernt category -->
    <label>Types of device: </label>
    <form id="addingDevice" method="POST" action="addDevice">
        <select name="type" id="types">
            <option value="">Please select</option>
            <option value="Wifi">Wifi</option>
            <option value="TV">TV</option>
            <option value="Speaker">Speaker</option>
            <option value="Radio">Radio</option>
            <option value="Security_Camera">Security Camera</option>
            <option value="Air_Con">Air-conditioning</option>
            <option value="Curtains">Curtains</option>
            <option value="Refrigerator">Refrigerator</option>
            <option value="Microwave">Microwave</option>
            <option value="Kettle">Kettle</option>
            <option value="Water_Heater">Water Heater</option>
            <option value="Water_Purifier">Water Purifier</option>
            <option value="Air_Purifier">Air Purifier</option>
            <option value="Roomba">Roomba</option>
            <option value="Rice_Cooker">Rice Cooker</option>
            <option value="Fan">Fan</option>
            <option value="Bedroom_Lights">Bedroom Lights</option>
            <option value="Table_Lamp">Table Lamp</option>
            <option value="Garden_Sprinkler">Garden Sprinkler</option>
            <option value="Living_room_lamp">Living room lamp</option>
        </select>
        <div>

            <!-- wifi -->
            <div id="Wifi" class="none">
                <label hidden>Device Name:</label>
                <input type="text" name="name" disabled hidden required>
                <br />
                <label hidden>Status: </label>
                <input type="radio" name="status" value="1" disabled hidden required />
                <label hidden>On</label>
                <input type="radio" name="status" value="0" disabled hidden required />
                <label hidden>Off</label>
                <br />
            </div>

            <!-- TV -->
            <div id="TV" class="none">
                <label hidden>Device Name:</label>
                <input type="text" name="name" id="" required disabled hidden>
                <br />
                <label hidden>Status: </label>
                <input type="radio" name="status" value="1" disabled hidden required />
                <label hidden>On</label>
                <input type="radio" name="status" value="0" disabled hidden required />
                <label hidden>Off</label>
                <br />
                <label hidden>Volume: </label>
                <input type="range" name="volume" min="0" max="100" value="60" disabled hidden />
                <br />
                <label hidden>Channel: </label>
                <select name="channel" hidden>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                </select>
                <br />
            </div>

            <!-- Speaker -->
            <div id="Speaker" class="none">
                <label hidden>Device Name:</label>
                <input type="text" name="name" id="" required disabled hidden>
                <br />
                <label hidden>Status: </label>
                <input type="radio" name="status" value="1" disabled hidden required />
                <label hidden>On</label>
                <input type="radio" name="status" value="0" disabled hidden required />
                <label hidden>Off</label>
                <br />
                <label hidden>Volume: </label>
                <input type="range" name="volume" min="0" max="100" value="60" disabled hidden />
                <br />
            </div>

            <!-- Radio -->
            <div id="Radio" class="none">
                <label hidden>Device Name:</label>
                <input type="text" name="name" id="" required disabled hidden>
                <br />
                <label hidden>Status: </label>
                <input type="radio" name="status" value="1" disabled hidden />
                <label hidden>On</label>
                <input type="radio" name="status" value="0" disabled hidden />
                <label hidden>Off</label>
                <br />
                <label hidden>Volume: </label>
                <input type="range" name="volume" min="0" max="100" value="60" disabled hidden />
                <br />
                <label hidden>Channel: </label>
                <select name="channel" disabled hidden>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                </select>
                <br />
            </div>

            <!-- Security Camera -->
            <div id="Security_Camera" class="none">
                <label hidden>Device Name:</label>
                <input type="text" name="name" id="" required disabled hidden>
                <br />
                <label hidden>Status: </label>
                <input type="radio" name="status" value="1" disabled hidden required />
                <label hidden>On</label>
                <input type="radio" name="status" value="0" disabled hidden required />
                <label hidden>Off</label>
                <br />
            </div>

            <!-- Air-conditioning -->
            <div id="Air_Con" class="none">
                <label hidden>Device Name:</label>
                <input type="text" name="name" id="" required disabled hidden>
                <br />
                <label hidden>Status: </label>
                <input type="radio" name="status" value="1" disabled hidden required />
                <label hidden>On</label>
                <input type="radio" name="status" value="0" disabled hidden required />
                <label hidden>Off</label>
                <br />
                <label hidden>Temperature: </label>
                <input type="number" name="temperature" placeholder="18-30 degree" pattern="[0-9]{2}" required disabled
                    hidden>
            </div>

            <!-- curtains -->
            <div id="Curtains" class="none">
                <label hidden>Device Name:</label>
                <input type="text" name="name" id="" required disabled hidden>
                <br />
                <label hidden>Status: </label>
                <input type="radio" name="status" value="1" disabled hidden required />
                <label hidden>On</label>
                <input type="radio" name="status" value="0" disabled hidden required />
                <label hidden>Off</label>
                <br />
            </div>

            <!-- Refrigerator -->
            <div id="Refrigerator" class="none">
                <label hidden>Device Name:</label>
                <input type="text" name="name" id="" required disabled hidden>
                <br />
                <label hidden>Status: </label>
                <input type="radio" name="status" value="1" disabled hidden required />
                <label hidden>On</label>
                <input type="radio" name="status" value="0" disabled hidden required />
                <label hidden>Off</label>
                <br />
                <label hidden>Freezer Temperature: </label>
                <select name="freezer_temp" disabled hidden>
                    <option value="-4" selected>-4</option>
                    <option value="-3">-3</option>
                    <option value="-2">-2</option>
                    <option value="-1">-1</option>
                </select>
                <br />
                <label hidden>Refrigerator Temperature: </label>
                <select name="refrigerator_temp" disabled hidden>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4" selected>4</option>
                </select>
            </div>

            <!-- Microwave -->
            <div id="Microwave" class="none">
                <label hidden>Device Name:</label>
                <input type="text" name="name" id="" required disabled hidden>
                <br />
                <label hidden>Status: </label>
                <input type="radio" name="status" value="1" disabled hidden required />
                <label hidden>On</label>
                <input type="radio" name="status" value="0" disabled hidden required />
                <label hidden>Off</label>
                <br />
            </div>

            <!-- Kettle -->
            <div id="Kettle" class="none">
                <label hidden>Device Name:</label>
                <input type="text" name="name" id="" required disabled hidden>
                <br />
                <label hidden>Status: </label>
                <input type="radio" name="status" value="1" disabled hidden required />
                <label hidden>On</label>
                <input type="radio" name="status" value="0" disabled hidden required />
                <label hidden>Off</label>
                <br />
            </div>

            <!-- Water heater -->
            <div id="Water_Heater" class="none">
                <label hidden>Device Name:</label>
                <input type="text" name="name" id="" required disabled hidden>
                <br />
                <label hidden>Status: </label>
                <input type="radio" name="status" value="1" disabled hidden required />
                <label hidden>On</label>
                <input type="radio" name="status" value="0" disabled hidden required />
                <label hidden>Off</label>
                <br />
            </div>

            <!-- Air Purifier -->
            <div id="Air_Purifier" class="none">
                <label hidden>Device Name:</label>
                <input type="text" name="name" id="" required disabled hidden>
                <br />
                <label hidden>Status: </label>
                <input type="radio" name="status" value="1" disabled hidden required />
                <label hidden>On</label>
                <input type="radio" name="status" value="0" disabled hidden required />
                <label hidden>Off</label>
                <br />
            </div>

            <!-- Roomba -->
            <div id="Roomba" class="none">
                <label hidden>Device Name:</label>
                <input type="text" name="name" id="" required disabled hidden>
                <br />
                <label hidden>Status: </label>
                <input type="radio" name="status" value="1" disabled hidden required />
                <label hidden>On</label>
                <input type="radio" name="status" value="0" disabled hidden required />
                <label hidden>Off</label>
                <br />
            </div>

            <!-- Rice Cooker -->
            <div id="Rice_Cooker" class="none">
                <label hidden>Device Name:</label>
                <input type="text" name="name" id="" required disabled hidden>
                <br />
                <label hidden>Status: </label>
                <input type="radio" name="status" value="1" disabled hidden required />
                <label hidden>On</label>
                <input type="radio" name="status" value="0" disabled hidden required />
                <label hidden>Off</label>
                <br />
            </div>

            <!-- Fan -->
            <div id="Fan" class="none">
                <label hidden>Device Name:</label>
                <input type="text" name="name" id="" required disabled hidden>
                <br />
                <label hidden>Status: </label>
                <input type="radio" name="status" value="1" disabled hidden required />
                <label hidden>On</label>
                <input type="radio" name="status" value="0" disabled hidden required />
                <label hidden>Off</label>
                <br />
                <label hidden>Fan Speed: </label>
                <input type="radio" name="fan_speed" value="1" disabled hidden required />
                <label hidden>1</label>
                <input type="radio" name="fan_speed" value="2" disabled hidden required />
                <label hidden>2</label>
                <input type="radio" name="fan_speed" value="3" disabled hidden required />
                <label hidden>3</label>
                <br />
            </div>

            <!-- Bedroom Lights -->
            <div id="Bedroom_Lights" class="none">
                <label hidden>Device Name:</label>
                <input type="text" name="name" id="" required disabled hidden>
                <br />
                <label hidden>Status: </label>
                <input type="radio" name="status" value="1" disabled hidden required />
                <label hidden>On</label>
                <input type="radio" name="status" value="0" disabled hidden required />
                <label hidden>Off</label>
                <br />
            </div>

            <!-- Table Lamp -->
            <div id="Table_Lamp" class="none">
                <label hidden>Device Name:</label>
                <input type="text" name="name" id="" required disabled hidden>
                <br />
                <label hidden>Status: </label>
                <input type="radio" name="status" value="1" disabled hidden required />
                <label hidden>On</label>
                <input type="radio" name="status" value="0" disabled hidden required />
                <label hidden>Off</label>
                <br />
            </div>

            <!-- Garden Sprinkler -->
            <div id="Garden_Sprinkler" class="none">
                <label hidden>Device Name:</label>
                <input type="text" name="name" id="" required disabled hidden>
                <br />
                <label hidden>Status: </label>
                <input type="radio" name="status" value="1" disabled hidden required />
                <label hidden>On</label>
                <input type="radio" name="status" value="0" disabled hidden required />
                <label hidden>Off</label>
                <br />
            </div>

            <!-- Living room lamp -->
            <div id="Living_room_lamp" class="none">
                <label hidden>Device Name:</label>
                <input type="text" name="name" id="" required disabled hidden>
                <br />
                <label hidden>Status: </label>
                <input type="radio" name="status" value="1" disabled hidden required />
                <label hidden>On</label>
                <input type="radio" name="status" value="0" disabled hidden required />
                <label hidden>Off</label>
                <br />
            </div>


        </div>
        <input type="submit" id="test" value="Submit">

    </form>


    <!------------------------------------------Footer-------------------------------->
    <div id="copyright">
        <p style="margin-top:10px">2022 @ Smart Home. </p>
    </div>
    <!---------------------------------------Footer Ends------------------------------->

    <!-- import jquery -->
    <script src="Js/jquery-3.6.0.js"></script>
    <script src="js/jquery-3.6.0.min.js"></script>

    
    <script>
        
        // debug purpose
        // $("#test").click(function () {
        //     console.log($("#addingDevice").serialize());
        // });

        // display different forms input base on the option type 
        $("#types").change(function () {
            var testval = $("#types").val();
            $("#" + testval).show().siblings().hide();
            $("#" + testval).find("label").removeAttr("hidden");
            $("#" + testval).find("input").removeAttr("hidden");
            $("#" + testval).find("select").removeAttr("hidden");

            $("#" + testval).find("input").removeAttr("disabled");
            $("#" + testval).find("select").removeAttr("disabled");

            $("#" + testval).siblings().find("input").attr("disabled", true)
            $("#" + testval).siblings().find("select").attr("disabled", true)
        });

    </script>

    <script>
        // validater for the forms
        function send() {
            //check if the input is null.
            var arr = new Array();
            arr[0] = document.getElementsByName("name");
            arr[1] = document.getElementsByName("status");
            arr[2] = document.getElementsByName("volume");
            arr[3] = document.getElementsByName("channel");
            arr[4] = document.getElementsByName("temperature");
            arr[5] = document.getElementsByName("frezzer_temp");
            arr[6] = document.getElementsByName("refrigerator_temp");
            arr[6] = document.getElementsByName("fan_speed");

            for (var i = 0; i < arr.length; i++) {
                res += isEmpty(arr[i]);
            }
            if (res < arr.length) {
                alert("fail to sumbit" + (arr.length - res) + "area needs to be fiiled");
                return false;
            } else {
                return true;
            }
        }

        function isEmpty(obj) {
            var isChecked = 0;//check if radios has been checked
            for (var i = 0; i < obj.length; i++) {
                if (obj[i].checked)
                    checkedNum++;
            }
            return isChecked;
        }
    </script>
    
</body>

</html>